<!DOCTYPE html>
<html lang="nb" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Kaffe</title>
    <link rel="stylesheet" href="index.css">
<script src="https://www.gstatic.com/firebasejs/5.9.3/firebase.js"></script>
<script>
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyBBJqkG2YoFZ86_GtmLXK3ZhdPOzqlf4OQ",
    authDomain: "prosjekt-vaar2019.firebaseapp.com",
    databaseURL: "https://prosjekt-vaar2019.firebaseio.com",
    projectId: "prosjekt-vaar2019",
    storageBucket: "prosjekt-vaar2019.appspot.com",
    messagingSenderId: "978862746317"
  };
  firebase.initializeApp(config);
</script>
  </head>
  <body>
    <header>
      <nav class="nav-main">
        <div class="navbar-Logo">
          <a href="index.html">
            <img class="logo" src="bilder/Logo.svg" alt="">
          </a>
        </div>
        <ul>
          <li>
            <a class="nav-item" href="kaffer.html">Kaffe</a>
          </li>
          <li>
            <a class="nav-item" href="kaffeOgHelse.html">Kaffe og helse</a>
          </li>
            <li>
            <a class="nav-item" href="Kontakt.html">Kontakt oss</a>
          </li>
          <li>
            <a class="nav-item" class="nav-handlekurv" href="handlekruv.html"><img src="bilder/handlekurv.svg" alt="handlekurv ikon"></a>
          </li>
        </ul>
      </nav>
    </header>
    <main>
      <div class="hovedbilde">
        <img src="" alt="">
      </div>
      <nav class="sortering-Nav">
        <ul>
          <li>
            <a class="nav-item" href="#" class="sorter">Sorter</a>
            <div class="nav-content">
              <div class="nav-sub">
                <ul>
                  <li><button onclick="">fra billigst til dyrest</button></li>
                  <li><button onclick="">10 billigste</button></li>
                  <li><button onclick="">10 dyreste</button></li>
                </ul>
              </div>
            </div>
          </li>
          <li>
            <a class="nav-item" href="#"class="verdensdel">Verdensdel</a>
            <div class="nav-content2">
              <div class="nav-sub">
                <ul>
                  <li><button onclick="">Nord-Amerika</button></li>
                  <li><button onclick="">Sør-Amerika</button></li>
                  <li><button onclick="">India</button></li>
                  <li><button onclick="">Asia</button></li>
                </ul>
              </div>
            </div>
          </li>
          <li>
            <a class="nav-item" href="#" class="innhold">Innhold</a>
            <div class="nav-content3">
              <div class="nav-sub">
                <ul>
                  <li><button onclick="">Bourbon</button></li>
                  <li><button onclick="">Heirloom</button></li>
                  <li><button onclick="">SL 795</button></li>
                  <li><button onclick="">Pacas</button></li>
                </ul>
              </div>
            </div>
          </li>
        </ul>
      </nav>
      <section id="secKaffe">

      </section>
    </main>

    <script type="text/javascript">
      // Referanser til HTML-elementer
      const secKaffe = document.querySelector("#secKaffe");
      // Referanser til firebase-databasen
      const db = firebase.database();
      const kaffer = db.ref("kaffer");
      visAlleKaffer(); // Kjører funksjonen visAlleKaffer i det nettsiden starter, funksjonen er definert under
      // Funksjonsdefinisjoner for spørringer.
      function genererHTML(snapshot){
        // Javascript-funksjon for å generere HTML for hver Pokemon
        // Denne får dere på prøven
        let key = snapshot.key;
        let snap = snapshot.val();
        secKaffe.innerHTML += `
          <section class="kaffer">
            <h3>${snap["tittel"]}</h3>
            <a href="kaffe.html?id=${key}"><img src="${snap['bilde']}"></a>
            <p>${snap["beskrivelse"]}</p>
            <p>${snap["pris"]} kr,-</p>
            <div class="action"><a href="handlekurv.html">Kjøp</a>
          </section>
        `
      }
      function visAlleKaffer(){
        // En funksjon som kjører en spørring for å vise alle kaffer
        secKaffe.innerHTML = ``; // Sletter innholdet i html-elementet
        kaffer.on("child_added",genererHTML); // Spørrefunksjon som henter alle kaffene fra databasen, og kjører funksjonen genererHTML på hver kaffe.
      }
    </script>

    <footer>
      <div class="footer_logo">
        <img src="" alt="">
      </div>
      <div class="footer_info">
        <ul>
          <div class="footer_navn">
            <li><b>Kaffehuset</b></li>
          </div>
          <br>
          <div class="footer_adresse">
            <li>Nedre Slottsgate 9</li>
          </div>
          <br>
          <div class="footer_postnr">
            <li>0157 Oslo</li>
          </div>
          <br>
          <div class="footer_epost">
          <li><a href="mailto:post@kaffehuset.no">post@kaffehuset.no</a></li>
          </div>
        </ul>
      </div>
    </footer>
  </body>
</html>
